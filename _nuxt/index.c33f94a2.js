import{_ as O,a as L,b as D}from"./ProductDialog.caa3afe3.js";import{a as m,o as s,c as P,l,f as t,h as S,t as f,q as V,i as v,e as p,F as q,E as M,r as g,w as j,v as z,k as i,B as A,m as E,p as F}from"./entry.173064d6.js";const U={class:"product-item"},T={class:"product-item__content"},G=["textContent"],H=["textContent"],J=m({__name:"ProductItem",props:{product:{type:Object,required:!0}},setup(e){return(n,_)=>{const c=V;return s(),P(c,{to:{name:"products-id",params:{id:e.product.product_id}}},{default:l(()=>[t("div",U,[t("div",{class:"product-item__img-wrap",style:S({backgroundImage:`url(${e.product.product_img_path})`})},null,4),t("div",T,[t("h3",{class:"product-item__content__title",textContent:f(e.product.product_name)},null,8,G),t("div",{class:"product-item__content__desc",textContent:f(e.product.product_description)},null,8,H)])])]),_:1},8,["to"])}}}),K=v(J,[["__scopeId","data-v-bb5a7558"]]),Q={class:"product-list"},R={class:"product-list__content"},W=m({__name:"ProductList",props:{products:{type:Object,required:!0}},setup(e){return(n,_)=>{const c=K;return s(),p("div",Q,[t("div",R,[(s(!0),p(q,null,M(e.products,r=>(s(),P(c,{key:r.product_id,product:r},null,8,["product"]))),128))])])}}}),X=v(W,[["__scopeId","data-v-08bfb17e"]]),Y={class:"products-page"},Z={class:"products-content"},tt={class:"products-content__footer"},et=m({__name:"index",async setup(e){let n,_;const{getProducts:c,createProduct:r}=F(),x=6,h=g(!0),b=([n,_]=j(()=>c(null,x)),n=await n,_(),n),a=z(b),y=async()=>{const u=a[a.length-1],o=await c(u.product_id,x);o.length?a.push(...o):h.value=!1},d=g(!1),C=()=>{d.value=!0},k=async u=>{const o=await r(u);a.push(o),d.value=!1};return(u,o)=>{const $=D,w=O,B=X,I=L;return s(),p("div",Y,[i(w,{title:"Product Shelf"},{right:l(()=>[i($,{"on-click":C},{default:l(()=>[E(" Create ")]),_:1})]),_:1}),t("div",Z,[i(B,{products:a},null,8,["products"]),t("div",tt,[h.value?(s(),p("button",{key:0,class:"load-more-btn",onClick:y}," Load More ")):A("",!0)])]),i(I,{isOpen:d.value,"onUpdate:isOpen":o[0]||(o[0]=N=>d.value=N),"onUpdate:product":k},null,8,["isOpen"])])}}});const ct=v(et,[["__scopeId","data-v-418de81b"]]);export{ct as default};
