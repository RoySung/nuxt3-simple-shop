import{_ as N,a as D,b as L}from"./ProductDialog.51ceb1d9.js";import{a as x,o as m,c as V,l as u,f as o,h as y,t as g,q,i as f,e as h,k as a,u as M,G as j,E as A,r as P,w as E,v as G,B as S,m as U,p as z}from"./entry.7047cc94.js";const T={class:"product-item"},F={class:"product-item__content"},H=["textContent"],J=["textContent"],K=x({__name:"ProductItem",props:{product:{type:Object,required:!0}},setup(t){return(n,d)=>{const e=q;return m(),V(e,{to:{name:"products-id",params:{id:t.product.product_id}}},{default:u(()=>[o("div",T,[o("div",{class:"product-item__img-wrap",style:y({backgroundImage:`url(${t.product.product_img_path})`})},null,4),o("div",F,[o("h3",{class:"product-item__content__title",textContent:g(t.product.product_name)},null,8,H),o("div",{class:"product-item__content__desc",textContent:g(t.product.product_description)},null,8,J)])])]),_:1},8,["to"])}}}),Q=f(K,[["__scopeId","data-v-bb5a7558"]]),R={class:"product-list"},W={class:"product-list__content"},X=x({__name:"ProductList",props:{products:{type:Object,required:!0}},setup(t){const n=t,d=async(e,_)=>{await Promise.resolve();const r=e*_;return n.products.slice(e*_,r+_)};return(e,_)=>{const r=Q,l=A;return m(),h("div",R,[o("div",W,[a(l,null,{default:u(()=>[a(M(j),{"page-provider":d,"page-size":6,length:t.products.length,class:"grid"},{default:u(({item:v,style:c})=>[a(r,{product:v,style:y(c)},null,8,["product","style"])]),_:1},8,["length"])]),_:1})])])}}}),Y=f(X,[["__scopeId","data-v-0c15c00b"]]),Z={class:"products-page"},tt={class:"products-content"},et={class:"products-content__footer"},ot=x({__name:"index",async setup(t){let n,d;const{getProducts:e,createProduct:_}=z(),r=6,l=P(!0),v=([n,d]=E(()=>e(null,r)),n=await n,d(),n),c=G(v),C=async()=>{const p=c[c.length-1],s=await e(p.product_id,r);s.length?c.push(...s):l.value=!1},i=P(!1),b=()=>{i.value=!0},$=async p=>{const s=await _(p);c.push(s),i.value=!1};return(p,s)=>{const w=L,k=N,I=Y,B=D;return m(),h("div",Z,[a(k,{title:"Product Shelf"},{right:u(()=>[a(w,{"on-click":b},{default:u(()=>[U(" Create ")]),_:1})]),_:1}),o("div",tt,[a(I,{products:c},null,8,["products"]),o("div",et,[l.value?(m(),h("button",{key:0,class:"load-more-btn",onClick:C}," Load More ")):S("",!0)])]),a(B,{isOpen:i.value,"onUpdate:isOpen":s[0]||(s[0]=O=>i.value=O),"onUpdate:product":$},null,8,["isOpen"])])}}});const st=f(ot,[["__scopeId","data-v-418de81b"]]);export{st as default};
