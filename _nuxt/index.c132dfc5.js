import{_ as N,a as D,b as L}from"./ProductDialog.13ed0bb2.js";import{a as f,o as m,c as T,l as i,f as n,h as y,t as g,q as V,i as x,e as h,k as a,u as q,G as A,E as M,r as P,w as j,v as E,F as G,B as S,m as U,p as z,H as F,I as H}from"./entry.0fec5567.js";const R={class:"product-item"},J={class:"product-item__content"},K=["textContent"],Q=["textContent"],W=f({__name:"ProductItem",props:{product:{type:Object,required:!0}},setup(o){return(s,d)=>{const e=V;return m(),T(e,{to:{name:"products-id",params:{id:o.product.product_id}}},{default:i(()=>[n("div",R,[n("div",{class:"product-item__img-wrap",style:y({backgroundImage:`url(${o.product.product_img_path})`})},null,4),n("div",J,[n("h3",{class:"product-item__content__title",textContent:g(o.product.product_name)},null,8,K),n("div",{class:"product-item__content__desc",textContent:g(o.product.product_description)},null,8,Q)])])]),_:1},8,["to"])}}}),X=x(W,[["__scopeId","data-v-bb5a7558"]]),Y={class:"product-list"},Z={class:"product-list__content"},tt=f({__name:"ProductList",props:{products:{type:Object,required:!0}},setup(o){const s=o,d=async(e,r)=>{await Promise.resolve();const _=e*r;return s.products.slice(e*r,_+r)};return(e,r)=>{const _=X,l=M;return m(),h("div",Y,[n("div",Z,[a(l,null,{default:i(()=>[a(q(A),{"page-provider":d,"page-size":6,length:o.products.length,class:"grid"},{default:i(({item:v,style:c})=>[a(_,{product:v,style:y(c)},null,8,["product","style"])]),_:1},8,["length"])]),_:1})])])}}}),ot=x(tt,[["__scopeId","data-v-0c15c00b"]]),et={class:"products-page"},nt={class:"products-content"},st={class:"products-content__footer"},ct=f({__name:"index",async setup(o){let s,d;const{getProducts:e,createProduct:r}=U(),_=6,l=P(!0),v=([s,d]=j(()=>e(null,_)),s=await s,d(),s),c=E(v),C=async()=>{const u=c[c.length-1],t=await e(u.product_id,_);t.length?c.push(...t):l.value=!1},p=P(!1),w=()=>{p.value=!0},b=async u=>{const t=await r(u);c.push(t),p.value=!1};return G(()=>{const t=F().options.history.state.scroll;H(()=>{setTimeout(()=>{window.scrollTo({behavior:"smooth",top:t==null?void 0:t.top})},500)})}),(u,t)=>{const $=L,k=N,I=ot,B=D;return m(),h("div",et,[a(k,{title:"Product Shelf"},{right:i(()=>[a($,{"on-click":w},{default:i(()=>[z(" Create ")]),_:1})]),_:1}),n("div",nt,[a(I,{products:c},null,8,["products"]),n("div",st,[l.value?(m(),h("button",{key:0,class:"load-more-btn",onClick:C}," Load More ")):S("",!0)])]),a(B,{isOpen:p.value,"onUpdate:isOpen":t[0]||(t[0]=O=>p.value=O),"onUpdate:product":b},null,8,["isOpen"])])}}});const _t=x(ct,[["__scopeId","data-v-ff20092f"]]);export{_t as default};
